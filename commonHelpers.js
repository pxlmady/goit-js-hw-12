import{S as C,i as l}from"./assets/vendor-46aac873.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const b=document.getElementById("searchForm"),L=document.getElementById("searchInput"),c=document.getElementById("gallery"),u=document.getElementById("loadMoreButton"),v="41962828-ff4c1ad2c8e7f95d6127e6141",I="https://pixabay.com/api/",y=40;let d=1,m=!0;const B=new C(".gallery a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",animationSlide:!1});function $(){const o=document.createElement("span");o.classList.add("loader"),document.body.appendChild(o)}function E(){const o=document.querySelector(".loader");o&&o.remove()}function P(){l.info({title:"Info",message:"Loading...",position:"topCenter",timeout:2e3})}function k(){u.style.display="block"}function x(){u.style.display="none"}function M(){l.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topCenter"})}function S(){c.innerHTML=""}async function w(o){try{P(),$();const i=await(await fetch(`${I}?key=${v}&q=${o}&image_type=photo&orientation=horizontal&safesearch=true&page=${d}&per_page=${y}`)).json();if(E(),i.hits.length===0)l.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"});else{if(!c){console.error("Error fetching images: Gallery element is null");return}const a=[];if(i.hits.forEach(e=>{const t=document.createElement("a");t.href=e.largeImageURL;const r=document.createElement("img");r.src=e.webformatURL,r.alt=e.tags,r.title=`${e.tags}`;const s=document.createElement("div");s.classList.add("image-details");const f=document.createElement("p");f.textContent=`Likes: ${e.likes}`;const p=document.createElement("p");p.textContent=`Views: ${e.views}`;const h=document.createElement("p");h.textContent=`Comments: ${e.comments}`;const g=document.createElement("p");g.textContent=`Downloads: ${e.downloads}`,s.appendChild(f),s.appendChild(p),s.appendChild(h),s.appendChild(g),t.appendChild(r),t.appendChild(s),a.push(t)}),a.forEach(e=>{c.appendChild(e)}),B.refresh(),d*y>=i.totalHits)x(),M();else if(k(),m)m=!1;else{const e=c.lastElementChild.getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}}}catch(n){E(),l.error({title:"Error",message:"An error occurred while fetching images. Please try again later."}),console.error("Error fetching images:",n)}}b.addEventListener("submit",function(o){o.preventDefault();const n=L.value.trim();if(n===""){l.error({title:"Error",message:"Please enter a search term"});return}d=1,m=!0,S(),w(n)});u.addEventListener("click",function(){d++,w(L.value.trim())});
//# sourceMappingURL=commonHelpers.js.map
